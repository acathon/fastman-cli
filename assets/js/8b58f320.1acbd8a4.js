"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[277],{4453:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"concepts/database","title":"Database & Migrations","description":"Fastman treats the database as a first-class citizen. It wraps SQLAlchemy and Alembic to provide a seamless experience.","source":"@site/docs/concepts/database.md","sourceDirName":"concepts","slug":"/concepts/database","permalink":"/fastman-cli/docs/concepts/database","draft":false,"unlisted":false,"editUrl":"https://github.com/acathon/fastman-cli/tree/main/docs/docs/concepts/database.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/fastman-cli/docs/concepts/architecture"},"next":{"title":"Authentication","permalink":"/fastman-cli/docs/concepts/authentication"}}');var a=n(4848),i=n(8453);const r={sidebar_position:2},d="Database & Migrations",c={},l=[{value:"Supported Databases",id:"supported-databases",level:2},{value:"Migrations",id:"migrations",level:2},{value:"Models",id:"models",level:2},{value:"Seeding",id:"seeding",level:2}];function o(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"database--migrations",children:"Database & Migrations"})}),"\n",(0,a.jsxs)(s.p,{children:["Fastman treats the database as a first-class citizen. It wraps ",(0,a.jsx)(s.strong,{children:"SQLAlchemy"})," and ",(0,a.jsx)(s.strong,{children:"Alembic"})," to provide a seamless experience."]}),"\n",(0,a.jsx)(s.h2,{id:"supported-databases",children:"Supported Databases"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"SQLite"})," (Default)"]}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"PostgreSQL"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"MySQL"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"Oracle"})}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Firebase"})," (via specialized driver)"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"migrations",children:"Migrations"}),"\n",(0,a.jsx)(s.p,{children:"Forget manual Alembic commands. Fastman provides intuitive wrappers:"}),"\n",(0,a.jsxs)(s.table,{children:[(0,a.jsx)(s.thead,{children:(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.th,{children:"Command"}),(0,a.jsx)(s.th,{children:"Equivalent Alembic Command"})]})}),(0,a.jsxs)(s.tbody,{children:[(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:'fastman make:migration "msg"'})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:'alembic revision --autogenerate -m "msg"'})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"fastman migrate"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"alembic upgrade head"})})]}),(0,a.jsxs)(s.tr,{children:[(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"fastman migrate:rollback"})}),(0,a.jsx)(s.td,{children:(0,a.jsx)(s.code,{children:"alembic downgrade -1"})})]})]})]}),"\n",(0,a.jsx)(s.h2,{id:"models",children:"Models"}),"\n",(0,a.jsx)(s.p,{children:"Models are defined using SQLAlchemy declarative base."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'from app.core.database import Base\nfrom sqlalchemy import Column, Integer, String\n\nclass User(Base):\n    __tablename__ = "users"\n\n    id = Column(Integer, primary_key=True, index=True)\n    email = Column(String, unique=True, index=True)\n'})}),"\n",(0,a.jsx)(s.h2,{id:"seeding",children:"Seeding"}),"\n",(0,a.jsx)(s.p,{children:"Fastman includes a seeder system to populate your database with test data."}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsxs)(s.li,{children:["Create a seeder: ",(0,a.jsx)(s.code,{children:"fastman make:seeder UserSeeder"})]}),"\n",(0,a.jsxs)(s.li,{children:["Run seeders: ",(0,a.jsx)(s.code,{children:"fastman db:seed"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var t=n(6540);const a={},i=t.createContext(a);function r(e){const s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);