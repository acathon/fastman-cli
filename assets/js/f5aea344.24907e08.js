"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[894],{8119:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"advanced/production-build","title":"Production Deployment","description":"Deploy your Fastman application to production.","source":"@site/docs/advanced/production-build.md","sourceDirName":"advanced","slug":"/advanced/production-build","permalink":"/fastman-cli/docs/advanced/production-build","draft":false,"unlisted":false,"editUrl":"https://github.com/acathon/fastman-cli/tree/main/docs/docs/advanced/production-build.md","tags":[],"version":"current","lastUpdatedAt":1770580452000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Custom Commands","permalink":"/fastman-cli/docs/advanced/custom-commands"},"next":{"title":"Deployment","permalink":"/fastman-cli/docs/deployment"}}');var r=a(4848),i=a(8453);const s={sidebar_position:1},t="Production Deployment",l={},c=[{value:"Pre-Deployment Checklist",id:"pre-deployment-checklist",level:2},{value:"Docker Deployment",id:"docker-deployment",level:2},{value:"Build the Image",id:"build-the-image",level:3},{value:"Run the Container",id:"run-the-container",level:3},{value:"Docker Compose",id:"docker-compose",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Cache Configuration",id:"cache-configuration",level:3},{value:"Code Optimization",id:"code-optimization",level:3},{value:"Clear Cache",id:"clear-cache",level:3},{value:"Cloud Platforms",id:"cloud-platforms",level:2},{value:"Railway / Render",id:"railway--render",level:3},{value:"AWS / GCP / Azure",id:"aws--gcp--azure",level:3},{value:"Reverse Proxy",id:"reverse-proxy",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"production-deployment",children:"Production Deployment"})}),"\n",(0,r.jsx)(n.p,{children:"Deploy your Fastman application to production."}),"\n",(0,r.jsx)(n.h2,{id:"pre-deployment-checklist",children:"Pre-Deployment Checklist"}),"\n",(0,r.jsx)(n.p,{children:"Before deploying, ensure you:"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set ",(0,r.jsx)(n.code,{children:"DEBUG=false"})," in production"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Generate a secure ",(0,r.jsx)(n.code,{children:"SECRET_KEY"})]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure production database URL"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Run all migrations"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up proper logging"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"docker-deployment",children:"Docker Deployment"}),"\n",(0,r.jsx)(n.h3,{id:"build-the-image",children:"Build the Image"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastman build --docker\n"})}),"\n",(0,r.jsx)(n.p,{children:"Or manually with the generated Dockerfile:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker build -t my-api:latest .\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-the-container",children:"Run the Container"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  -p 8000:8000 \\\n  -e DATABASE_URL=postgresql://user:pass@host/db \\\n  -e SECRET_KEY=your-production-secret \\\n  my-api:latest\n"})}),"\n",(0,r.jsx)(n.h3,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# docker-compose.yml\nversion: '3.8'\n\nservices:\n  api:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://postgres:password@db:5432/app\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: app\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\nvolumes:\n  postgres_data:\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,r.jsx)(n.h3,{id:"cache-configuration",children:"Cache Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Cache your environment configuration for faster startup:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastman config:cache\n"})}),"\n",(0,r.jsx)(n.p,{children:"To clear:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastman config:clear\n"})}),"\n",(0,r.jsx)(n.h3,{id:"code-optimization",children:"Code Optimization"}),"\n",(0,r.jsx)(n.p,{children:"Remove unused imports and format code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastman optimize\n"})}),"\n",(0,r.jsx)(n.h3,{id:"clear-cache",children:"Clear Cache"}),"\n",(0,r.jsx)(n.p,{children:"Remove Python bytecode cache:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"fastman cache:clear\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cloud-platforms",children:"Cloud Platforms"}),"\n",(0,r.jsx)(n.h3,{id:"railway--render",children:"Railway / Render"}),"\n",(0,r.jsxs)(n.p,{children:["Most platforms auto-detect Python projects. Ensure your ",(0,r.jsx)(n.code,{children:"Procfile"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"web: uvicorn app.main:app --host 0.0.0.0 --port $PORT\n"})}),"\n",(0,r.jsx)(n.h3,{id:"aws--gcp--azure",children:"AWS / GCP / Azure"}),"\n",(0,r.jsx)(n.p,{children:"Use the Docker deployment method with your cloud's container service."}),"\n",(0,r.jsx)(n.h2,{id:"reverse-proxy",children:"Reverse Proxy"}),"\n",(0,r.jsx)(n.p,{children:"Example Nginx configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-nginx",children:"server {\n    listen 80;\n    server_name api.example.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>t});var o=a(6540);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);